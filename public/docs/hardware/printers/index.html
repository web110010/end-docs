<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Printers # To get your printer working you will mainly need to install and setup cups.
If you choose the printer support option on the installer you will already have a working cups setup and only need to add your printer.
To start with cups and an usb connected printer:
sudo pacman -Syu cups cups-filters cups-pdf system-config-printer --needed To get full cups with support for many different printers per default.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Printers" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://example.org/docs/hardware/printers/" />

<title>Printers | Explore and own your Endeavour</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="stylesheet" href="/book.min.f8de3645fe00591b41524aee174e19edd98a22255a2930a0cdc82a94835ba387.css" integrity="sha256-&#43;N42Rf4AWRtBUkruF04Z7dmKIiVaKTCgzcgqlINbo4c=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.ed01bf40fa02f429cf75ed987d9eec015f48b7d2bb48fd6620ef0dbb013d77e0.js" integrity="sha256-7QG/QPoC9CnPde2YfZ7sAV9It9K7SP1mIO8NuwE9d&#43;A=" crossorigin="anonymous"></script>
<link rel="alternate" type="application/rss+xml" href="http://example.org/docs/hardware/printers/index.xml" title="Explore and own your Endeavour" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/android-chrome-512x512.png" alt="Logo" /><span>Explore and own your Endeavour</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <span>Links</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://endeavouros.com/" class="" target="_blank" rel="noopener">EndeavourOS</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://arm.endeavouros.com/" class="" target="_blank" rel="noopener">EndeavourOS Arm</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Forum</span>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/desktop-environments-and-window-managers/" class="">Desktop Environments and Window Managers</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-783344d2ec59d69b3c85b46b97bfaa3b" class="toggle" checked />
    <label for="section-783344d2ec59d69b3c85b46b97bfaa3b" class="flex justify-between">
      <a role="button" class="">Hardware</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <span>GPU</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d4f1f59df97394bd2795eef8e15d9d8d" class="toggle"  />
    <label for="section-d4f1f59df97394bd2795eef8e15d9d8d" class="flex justify-between">
      <a href="/docs/hardware/gpu/nvidia/" class="">Nvidia</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/hardware/gpu/nvidia/envy-control/" class="">Envy Control</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/hardware/gpu/nvidia/nouveau/" class="">Nouveau</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/hardware/gpu/nvidia/nvidia-optimus-notebooks-hybrid-graphics/" class="">Nvidia Optimus Notebooks Hybrid Graphics</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/hardware/gpu/nvidia/nvidia-optional-enchancements-and-troubleshooting/" class="">Nvidia Optional Enchancements and Troubleshooting</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/hardware/printers/" class="active">Printers</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/hardware/webcams/" class="">Webcams</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Printers</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#automatically-add-network-printers">Automatically add network printers:</a></li>
    <li><a href="#troubleshooting">Troubleshooting:</a>
      <ul>
        <li><a href="#network-printer-not-reachablenetwork-printer"><a href="#network-printer">Network printer not reachable</a></a></li>
        <li><a href="#firewall-is-blocking-mdns">Firewall is blocking mdns:</a></li>
        <li><a href="#procedure-to-find-the-right-driver-for-your-printer">Procedure to find the right driver for your printer:</a></li>
        <li><a href="#some-links-to-common-printers-information-on-archwiki">Some links to common printers’ information on Archwiki:</a></li>
        <li><a href="#notes-on-common-ways-to-install-printer-drivers">Notes on Common ways to install printer drivers:</a></li>
        <li><a href="#_hewlett_-and-_packard_-hp-printers"><strong><em>Hewlett</em></strong> and <strong><em>Packard</em></strong> (HP) printers:</a></li>
      </ul>
    </li>
    <li><a href="#hp-printers-alternative-driver-foo2zjs-nightly">HP printers alternative driver (foo2zjs-nightly)</a>
      <ul>
        <li><a href="#common-printer-setup-not-if-hplip-is-used">Common printer setup (not if hplip is used):</a></li>
      </ul>
    </li>
    <li><a href="#brother-network-printersbrother-netwok-printer"><a href="#brother-netwok-printer">Brother Network Printers</a></a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="printers">
  Printers
  <a class="anchor" href="#printers">#</a>
</h1>
<p>To get your printer working you will mainly need to install and setup cups.</p>
<p>If you choose the printer support option on the installer you will already have a working cups setup and only need to add your printer.</p>
<p>To start with cups and an usb connected printer:</p>
<pre><code>sudo pacman -Syu cups cups-filters cups-pdf system-config-printer --needed
</code></pre>
<p>To get full cups with support for many different printers per default. Install this packages on top of that:</p>
<pre><code>sudo pacman -Syu ghostscript gsfonts foomatic-db-engine foomatic-db foomatic-db-ppds foomatic-db-nonfree foomatic-db-nonfree-ppds gutenprint foomatic-db-gutenprint-ppds --needed
</code></pre>
<p>For QT environments (like KDE/plasma LXQT):</p>
<pre><code>sudo pacman -Syu print-manager --needed
</code></pre>
<p>enable socket, which will listen if print-job is calling and then enable the service:</p>
<pre><code>sudo systemctl enable --now cups.socket
</code></pre>
<p>or using the service, which will be running constantly.</p>
<pre><code>sudo systemctl enable --now cups.service
</code></pre>
<p>For network printer support, check if <strong>avahi</strong> is installed and its daemon is running:</p>
<pre><code>systemctl status avahi-daemon
</code></pre>
<p>if you get an error or it shows disabled not running:</p>
<pre><code>sudo pacman -Syu avahi --needed
sudo systemctl start avahi-daemon
sudo systemctl enable avahi-daemon
</code></pre>
<h2 id="automatically-add-network-printers">
  Automatically add network printers:
  <a class="anchor" href="#automatically-add-network-printers">#</a>
</h2>
<p>CUPS can use <a href="https://wiki.archlinux.org/title/Avahi">Avahi</a> browsing to discover unknown shared printers in your network. This can be useful in large setups where the server is unknown. To use this feature, set up local hostname resolution, and start both <code>avahi-daemon.service</code> and <code>cups-browsed.service</code>. Jobs are sent directly to the printer without any processing so the created queues may not work, however driverless printers such as those supporting <a href="https://www.pwg.org/ipp/everywhere.html">IPP Everywhere</a> or <a href="https://en.wikipedia.org/wiki/AirPrint">AirPrint</a> should work out of the box.</p>
<p>This is mainly usefull for mobile devices or for usage in offices where a number of changing network printers is used.</p>
<p>But you can use this at home too, it can be less troublesome in case, as you do not need to setup drivers and uri.</p>
<p><code>sudo systemctl enable --now cups-browsed.service</code></p>
<p>And make sure mdns (local host name resolution) is enabled and added to access firewalld. see here: <a href="https://discovery.endeavouros.com/wp-admin/post.php?post=1029&amp;action=edit#network-printer">https://discovery.endeavouros.com/wp-admin/post.php?post=1029&amp;action=edit#network-printer</a></p>
<p>With this you will get network printers automatically added, without any need to setup.</p>
<h2 id="troubleshooting">
  Troubleshooting:
  <a class="anchor" href="#troubleshooting">#</a>
</h2>
<h3 id="network-printer-not-reachablenetwork-printer">
  <a href="#network-printer">Network printer not reachable</a>
  <a class="anchor" href="#network-printer-not-reachablenetwork-printer">#</a>
</h3>
<p>It is a common issue that you can not get <strong>wifi printers</strong> to print, especially some <strong>Brother wifi printers</strong>.</p>
<p>It can be required to enable local hostname resolution for avahi to be able to connect to your network printer:</p>
<p><a href="https://wiki.archlinux.org/title/Avahi#Hostname_resolution">https://wiki.archlinux.org/title/Avahi#Hostname_resolution</a></p>
<p>Avahi provides local hostname resolution using a “<em>hostname</em>.local” naming scheme. To enable it, make sure the <a href="https://archlinux.org/packages/?name=nss-mdns">nss-mdns</a> package is installed and <code>avahi-daemon.service</code> is running:</p>
<p><code>pacman -Qs nss-mdns</code> to see if it is installed local:</p>
<p><code>➜ ~ » pacman -Qs nss-mdns   local/nss-mdns 0.14.1-3   glibc plugin providing host name resolution via mDNS</code></p>
<p>Make sure avahi-daemon is running:</p>
<p><code>systemctl status avahi-daemon.service</code></p>
<p>Then, edit the file <code>/etc/nsswitch.conf</code> and change the <code>hosts</code> line to include <code>mdns_minimal [NOTFOUND=return]</code> before <code>resolve</code> and <code>dns</code>:</p>
<p><img src="001.webp" alt="" /></p>
<p>Restart avahi-daemon and NetworkManager after this, or reboot machine:</p>
<pre><code>sudo systemctl restart avahi-daemon NetworkManager
</code></pre>
<h3 id="firewall-is-blocking-mdns">
  Firewall is blocking mdns:
  <a class="anchor" href="#firewall-is-blocking-mdns">#</a>
</h3>
<p>To make use of local hostname resolution (mdns) you need to change firewalld from <strong>public</strong> to <strong>home</strong> (zone change).</p>
<p>Assigning a Zone to a device will also be remembered on network changes, so if you leave home network and per example connect to a Wi-Fi network outside it will always use the default set public zone as long as you do not change that manually.</p>
<p><img src="002.webp" alt="" />
<img src="003.webp" alt="" />
<img src="004.webp" alt="" /></p>
<p>To make these permanent you need to set Configuration to <strong>Permanent</strong> and run the change to home zone, if <strong>Runtime</strong> is used it will get reset after logout. Now you should see network printers in printer setup tools showing up.</p>
<p><img src="005.webp" alt="" />
<img src="006.webp" alt="" /></p>
<h3 id="procedure-to-find-the-right-driver-for-your-printer">
  Procedure to find the right driver for your printer:
  <a class="anchor" href="#procedure-to-find-the-right-driver-for-your-printer">#</a>
</h3>
<p>Go to the <a href="https://www.openprinting.org/printers">open printing website</a> and search for whether your printer is supported on Linux at all, and what driver options are available.</p>
<p><img src="007.webp" alt="" /></p>
<p>This is what the result will look like:</p>
<p><img src="008.webp" alt="" /></p>
<ul>
<li>On top you will see whether or not there is a working driver for your printer</li>
<li>second it will show available driver options, in the example, you see <strong>Type: Ghostscript built-in</strong>, so go to package search on Archlinux (or use the tool of your choice) you will find <a href="https://www.archlinux.org/packages/extra/x86_64/ghostscript/">GhostScript</a> (already installed if you followed the tutorial from top to bottom)</li>
</ul>
<p>So install the driver available for your device, and proceed to install and configure the printer. But take a look at these links first, as it could be that your printer needs some extra configuration done to work properly:</p>
<h3 id="some-links-to-common-printers-information-on-archwiki">
  Some links to common printers’ information on Archwiki:
  <a class="anchor" href="#some-links-to-common-printers-information-on-archwiki">#</a>
</h3>
<ul>
<li><a href="https://wiki.archlinux.org/index.php/CUPS/Printer-specific_problems#Canon">Canon</a> printers</li>
<li><a href="https://wiki.archlinux.org/index.php/CUPS/Printer-specific_problems#Epson">Epson</a> printers</li>
<li><a href="https://wiki.archlinux.org/index.php/CUPS/Printer-specific_problems#HP">HP</a> printers</li>
<li><a href="https://wiki.archlinux.org/index.php/CUPS/Printer-specific_problems#Lexmark">Lexmark</a> printers</li>
<li><a href="https://wiki.archlinux.org/index.php/CUPS/Printer-specific_problems#Oki">Oki</a> printers</li>
<li><a href="https://wiki.archlinux.org/index.php/CUPS/Printer-specific_problems#Samsung">Samsung</a> printers</li>
<li><a href="https://wiki.archlinux.org/index.php/CUPS/Printer-specific_problems#Brother">Brother</a> printers</li>
</ul>
<h3 id="notes-on-common-ways-to-install-printer-drivers">
  Notes on Common ways to install printer drivers:
  <a class="anchor" href="#notes-on-common-ways-to-install-printer-drivers">#</a>
</h3>
<p>Mostly all printers will be using cups as a backend to communicate with your system, but different brands will be needing different ways to get printers fully functional:</p>
<h3 id="_hewlett_-and-_packard_-hp-printers">
  <strong><em>Hewlett</em></strong> and <strong><em>Packard</em></strong> (HP) printers:
  <a class="anchor" href="#_hewlett_-and-_packard_-hp-printers">#</a>
</h3>
<p>Some of the HP-printers needs a proprietary plugin to work, this can be installed by hplip.</p>
<p>Here is an overview of some common printers and working drivers on Archwiki:</p>
<p><a href="https://wiki.archlinux.org/title/CUPS/Printer-specific_problems#HP">Printer-specific_problems#HP</a></p>
<p>Most drivers for hp-printers come with the <a href="https://www.archlinux.org/packages/extra/x86_64/hplip/">HPLIP package</a> you can install this with:</p>
<p><code>sudo pacman -S hplip</code></p>
<p>install <em>python-pyqt5</em> to run GUI and hp-toolbox:</p>
<p><code>sudo pacman -S python-pyqt5</code></p>
<p>now run the program to install new printer queue and the possibly needed proprietary plugin for some hp-printers:</p>
<p><code>sudo hp-setup -i</code> for CLI install without a GUI</p>
<p>or run hp-setup from menu.</p>
<p><img src="009.webp" alt="" /></p>
<p>hp-setup from terminal CLI</p>
<p>The tool guides you through the installation – simply read the instructions.</p>
<p><strong>Current notes (29.5.2020):</strong></p>
<p>There is currently an issue with getting keys from keyservers, this also seem to effect the hp-plugin. Verify downloaded plugin to see what caused a failed to install. To solve this you need to change the server used by the tool:</p>
<p><code>sudo nano /usr/share/hplip/base/validation.py</code><br>
change the server to <code>keyserver.ubuntu.com</code> like this:</p>
<p><code>def **init**(self, pgp_site = 'keyserver.ubuntu.com', key = 0x4ABA2F66DBD5A95894910E0673D770CDA59047B9):</code></p>
<p>Save the file by pressing [<strong>Ctrl+X</strong>].</p>
<p>Then run <code>sudo hp-setup -i</code> again.</p>
<p>You have your printer added now, so you do not need to set it up again as what follows, but you can use system-config-printer to setup configuration for papersize e.t.c.</p>
<h2 id="hp-printers-alternative-driver-foo2zjs-nightly">
  HP printers alternative driver (foo2zjs-nightly)
  <a class="anchor" href="#hp-printers-alternative-driver-foo2zjs-nightly">#</a>
</h2>
<p>Uninstall hplip package: <code>sudo pacman -Rsc hplip</code></p>
<p>install <a href="https://foo2zjs.linkevich.net/">foo2zjs-nightly</a> from <a href="https://aur.archlinux.org/packages/foo2zjs-nightly/">AUR</a>:</p>
<p><code>yay -S foo2zjs-nightly</code></p>
<p>Use system-config-printer to set up your HP Printer.</p>
<h3 id="common-printer-setup-not-if-hplip-is-used">
  Common printer setup (not if hplip is used):
  <a class="anchor" href="#common-printer-setup-not-if-hplip-is-used">#</a>
</h3>
<p>Use the system-config-printer tool to find and set up your printer:</p>
<p><img src="010.webp" alt="" /></p>
<p><img src="011.webp" alt="" /></p>
<p><img src="012.webp" alt="" /></p>
<p><img src="013.webp" alt="" /></p>
<p><img src="014.webp" alt="" /></p>
<p><img src="015.webp" alt="" /></p>
<p>Under KDE/plasma or LXQT:</p>
<p><img src="016.webp" alt="" /></p>
<h2 id="brother-network-printersbrother-netwok-printer">
  <a href="#brother-netwok-printer">Brother Network Printers</a>
  <a class="anchor" href="#brother-network-printersbrother-netwok-printer">#</a>
</h2>
<p>Most newer Brother Network Printers can be set up <a href="https://openprinting.github.io/driverless/">driverless</a> after you enable local hostname resolution (like described up <a href="https://discovery.endeavouros.com/printers/printers/2021/03/#network-printer">here</a> before).</p>
<p>Power on your Printer and start searching for it with system-config-printer GUI:</p>
<p><img src="017.webp" alt="" /></p>
<p><img src="018.webp" alt="" /></p>
<p><img src="019.webp" alt="" /></p>
<p>Make sure to select the entry without the URL in it, and that it shows up as Driver-Less IPP on the right side</p>
<p><img src="020.webp" alt="" /></p>
<p>Ad a Local Name if you want</p>
<p><img src="021.webp" alt="" /></p>
<p>it should now give you the Option to print a test page</p>
<p><img src="022.webp" alt="" /></p>
<p><img src="023.webp" alt="" /></p>
<p>After adding the Printer make sure paper size and options are all correct.</p>
<p><img src="024.webp" alt="" /></p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#automatically-add-network-printers">Automatically add network printers:</a></li>
    <li><a href="#troubleshooting">Troubleshooting:</a>
      <ul>
        <li><a href="#network-printer-not-reachablenetwork-printer"><a href="#network-printer">Network printer not reachable</a></a></li>
        <li><a href="#firewall-is-blocking-mdns">Firewall is blocking mdns:</a></li>
        <li><a href="#procedure-to-find-the-right-driver-for-your-printer">Procedure to find the right driver for your printer:</a></li>
        <li><a href="#some-links-to-common-printers-information-on-archwiki">Some links to common printers’ information on Archwiki:</a></li>
        <li><a href="#notes-on-common-ways-to-install-printer-drivers">Notes on Common ways to install printer drivers:</a></li>
        <li><a href="#_hewlett_-and-_packard_-hp-printers"><strong><em>Hewlett</em></strong> and <strong><em>Packard</em></strong> (HP) printers:</a></li>
      </ul>
    </li>
    <li><a href="#hp-printers-alternative-driver-foo2zjs-nightly">HP printers alternative driver (foo2zjs-nightly)</a>
      <ul>
        <li><a href="#common-printer-setup-not-if-hplip-is-used">Common printer setup (not if hplip is used):</a></li>
      </ul>
    </li>
    <li><a href="#brother-network-printersbrother-netwok-printer"><a href="#brother-netwok-printer">Brother Network Printers</a></a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












